# 前言

[尤雨溪关于 `webpack` 与 `vite` 的关系讲解](https://www.zhihu.com/question/477139054/answer/2156019180)，可以总结如下。

1. vite 是一个前端**工具链方案**，对标的是（webpack + 针对 web 的常用配置 + webpack-dev-server）。
2. vite 的**目标场景是 web 场景**，因此大部分常见的 web 构建需求都做成默认内置，开箱即用。而 webpack 只针对打包，不预设场景。
3. webpack 的本质就是先打包，再加载，**它的一个软肋是 loader / 插件机制跟打包的这个设计前提耦合过深**。走不了 no-bundle 的路线，会跟现有的 loader/插件生态产生兼容性问题。
4. vite 在开发模式下，模块以原生 esm 的形式被浏览器加载。在生产模式下，模块被 Rollup 以传统方式打包，而且做了很多默认优化。
5. [由于生产环境的打包是使用的 rollup，vite 需要保证同一套 vite 配置文件和源码在开发环境和生产环境下得表现是一致的。要想达到这个效果，只能是 **vite 在开发环境模拟 rollup 的行为**，在生产环境打包时，将这部分替换成 rollup 打包](https://juejin.cn/post/7109437324047417357#heading-6)。 **vite 的开发和生产环境共享同一套 rollup 插件机制**，所以单个模块的编译在开发和生产环境下是一致的。
6. 开发新工具的目的不是“干掉竞争对手”，而是让愿意用的人用得爽。不太明白为什么有些人总是用一种你死我活的心态去看待开源工具。
